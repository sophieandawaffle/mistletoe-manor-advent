<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sudoku Day 5</title>
  <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            margin: 0;
            padding: 0;
            height: 100vh;
            width: 100vw;
            overflow: hidden;
            background: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .puzzle-wrapper {
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .pm-embed-div {
            width: 100%;
            height: 100%;
        }
    </style>
 </head>
 <body>
  <div class="puzzle-wrapper">
   <!-- Include the CryptoJS library for hashing the user id before sending it to the PuzzleMe server. -->
   <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>

   <!-- Initialize PM_Config BEFORE loading the PuzzleMe script -->
   <script>
       // Initialize PM_Config object if it doesn't exist
       window.PM_Config = window.PM_Config || {};
       PM_Config.PM_BasePath = "https://puzzleme.amuselabs.com/pmm/";
       
       // More reliable mobile detection
       function detectMobile() {
           // Check if we're in an iframe and can access parent
           let width = window.innerWidth;
           try {
               // Try to get parent window width if accessible
               if (window.parent && window.parent !== window) {
                   width = window.parent.innerWidth;
               }
           } catch (e) {
               // Cross-origin restriction, use iframe width
               width = window.innerWidth;
           }
           
           // Also check user agent for mobile devices
           const isMobileUserAgent = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
           
           // Use mobile layout if width < 768 OR if mobile user agent
           return width < 768 || isMobileUserAgent;
       }
       
       // Set mobile layout BEFORE PuzzleMe script loads
       if (detectMobile()) {
           PM_Config.PM_UseMobileLayout = true;
           PM_Config.PM_UseDesktopLayout = false;
       } else {
           PM_Config.PM_UseDesktopLayout = true;
           PM_Config.PM_UseMobileLayout = false;
       }
       
       // Also handle resize/orientation events
       window.addEventListener('resize', function() {
           if (detectMobile()) {
               PM_Config.PM_UseMobileLayout = true;
               PM_Config.PM_UseDesktopLayout = false;
           } else {
               PM_Config.PM_UseDesktopLayout = true;
               PM_Config.PM_UseMobileLayout = false;
           }
       });
   </script>

   <!-- Include the javascript library for embedding this puzzle. -->
   <script id="pm-script" src="https://puzzleme.amuselabs.com/pmm/js/puzzleme-embed.js"></script>

   <!-- Specifies the puzzle to be embedded on the page. -->
   <div class="pm-embed-div" 
        data-id="day-5" 
        data-set="ad57d9a373258cf5eb458bc3c5cc80ecc758077147d994d242052c56016b29e5" 
        data-puzzleType="sudoku" 
        data-height="100%" 
        data-mobileHeight="100%"
        data-mobileMargin="0px"></div>
  </div>
 </body>
</html>
